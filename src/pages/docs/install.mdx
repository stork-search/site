import { releases } from '../../lib/github-api-client'
import InstallTabs from '../../components/docs/install-tabs.js'

export const getStaticProps = async (context) => {
  return {
    props: { template: 'docs', latestRelease: (await releases)[0] },
  }
}

# Installing Stork

There are two parts to Stork: the command line tool, and the Javascript module. Here, you'll learn how to install both.

## The command line tool

If you're downloading a file from `files.stork-search.net`, make sure to read through [Changes to Build Artifacts on the Stork CDN](https://github.com/jameslittle230/stork/discussions/180), a Github discussion describing how files are organized on the Stork fileserver.

<InstallTabs latestRelease={props.latestRelease} />

If these options don't work for you, please [file a Github issue](https://github.com/jameslittle230/stork/issues/new) describing the installation process you hope to see!

## The Javascript library

You can either load the Javascript library from the Stork CDN (backed by Cloudfront) or by self-hosting it.

### From the Stork CDN:

Include the following script tag on your site, before your closing `</body>` tag:

<Codeblock lang="html">
  {`<script src="https://files.stork-search.net/stork.js"></script>`}
</Codeblock>

This will load the most recent Stork module along with the matching WASM binary. It will make a `stork` global variable available in the browser.

To load a specific version of the Stork Javascript library, you can reference a specific version:

<Codeblock lang="html">
  {`<script src="https://files.stork-search.net/releases/${props.latestRelease.tagName}/stork.js"></script>`}
</Codeblock>

### Self-hosting:

Download `stork.js` and `stork.wasm` from the [latest Github release](https://github.com/jameslittle230/stork/releases) and publish those files on your web server. Be sure to serve `stork.wasm` with the [correct MIME type](/docs/self-hosting), and be sure to call `stork.initialize()` with the URL where you're hosting the `stork.wasm`.

Visit the [self-hosting guide](/docs/self-hosting) for more information.

## Updates

Stork updates contain bug fixes, indexing enhancements, UI enhancements, and additional configuration options.

The project aims to keep all Stork artifacts evergreen; in other words, an index configuration file you write will generate a valid index in all future versions of Stork, and an index itself will be useable on all future versions of the Stork Javascript library. However, some new features will only work with an updated Stork setup, and some new features will require that you rebuild your search index.

To track updates, follow the [Stork Releases RSS feed](https://github.com/jameslittle230/stork/releases.atom).
